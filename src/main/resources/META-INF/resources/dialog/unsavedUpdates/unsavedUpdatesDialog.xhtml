<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
             xmlns:ui="http://java.sun.com/jsf/facelets"
             xmlns:h="http://xmlns.jcp.org/jsf/html"
             xmlns:p="http://primefaces.org/ui"
             xmlns:f="http://java.sun.com/jsf/core"

>

    <h:form id="unsavedUpdatesForm">
        <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
        <p:confirmDialog message="#{langBean.msg('dialog.unsaved.message')}" header="#{langBean.msg('dialog.unsaved.title')}" severity="danger" widgetVar="confirmUnsavedDialog">
            <p:commandButton value="#{langBean.msg('dialog.unsaved.discard')}" action="#{flowBean.undoChangesOnAllPanels()}" update="flow readWriteSwitchForm"
                             oncomplete="PF('confirmUnsavedDialog').hide()" styleClass="ui-button-danger" icon="pi pi-times"/>
            <p:commandButton value="#{langBean.msg('dialog.unsaved.save')}" action="#{flowBean.saveAllPanels()}" update="flow readWriteSwitchForm"
                             oncomplete="PF('confirmUnsavedDialog').hide()" icon="pi pi-save"/>
            <p:commandButton value="#{langBean.msg('dialog.unsaved.cancel')}" onclick="PF('confirmUnsavedDialog').hide();" type="button" styleClass="ui-button-warning"/>
        </p:confirmDialog>
    </h:form>
</ui:fragment>